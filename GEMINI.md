# Project: Chicken Clicker 3

**Status:** v3.4 (The Antiquities Update) - **LIVE**
**Stack:** Vanilla HTML/CSS/JS (Bundled with esbuild, Tested with Jest)

## **Current Features**

### **Phase 1: The "Petra" Update (v3.1)**
*   **Dynamic World Events:**
    *   **Eagle Attack:** A predator flies across the screen. Clicking it protects the flock and grants an egg bonus.
    *   **Forest Critters:** Fox eyes or Badgers appear in the bushes. Clicking them yields rewards (Badgers are rare!).
    *   **Weather:** Rainstorms pass through. Clicking the umbrella grants a "Stay Dry" bonus.
*   **Achievements:** 7 new achievements tied to these interactive events.

### **Phase 2: The "Collector" Update (v3.2)**
*   **Museum of Antiquities:**
    *   Players can "dig up" ancient artifacts while clicking.
    *   Artifacts provide permanent passive bonuses (e.g., +1% EPS, +5% Feather Chance).
    *   Artifacts are displayed in a new Museum modal with lore descriptions.
*   **Genetic Engineering (Skins):**
    *   Unlocking a new chicken type unlocks its visual skin.
    *   Players can equip different skins in the "Genetic Lab" to change the appearance of their main clicker chicken.

### **Phase 3: The "Cosmic" Expansion (v3.3)**
*   **Scene Switching:** A rocket button allows toggling between "Earth" and "Moon" views.
*   **Lunar Economy:**
    *   **Moon Eggs:** New currency generated by Lunar Chickens.
    *   **Dark Matter:** Premium currency mined by clicking on the Moon.
    *   **Lunar Upgrades:** "Moon Miner", "Gravity Stabilizer", "Cosmic Dust Filter", "Temporal Accelerator".
    *   **Lunar Chickens:** "Lunar Hen", "Alien Clucker".
*   **HUD Adaptation:** The UI dynamically updates to show Earth stats or Moon stats based on the active scene.

### **Phase 4: The "Antiquities" Update (v3.4)**
*   **Excavation Mechanics:**
    *   **Shovel Tool:** A new purchasable item (Cost: 10,000 Eggs) required to start finding artifacts.
    *   **Digging Animation:** Visual feedback of a shovel digging and an item flying out upon discovery.
*   **Artifact Overhaul:**
    *   **Graphics:** Unique pixel-art SVGs for all artifacts (Ancient Kernel, Rusty Spur, etc.).
    *   **Rarity:** Drop rates rebalanced to be "epicly rare" (0.05%).
*   **Special Events:**
    *   **Donator Pack:** An ultra-rare (0.01%) artifact that triggers a confetti celebration and unlocks the "The Big Find" achievement.

---

## **Completed Tasks**

*   [x] **Refactoring:** Split monolithic `script.js` into modular ES modules (`config.js`, `state.js`, `logic.js`, `ui.js`, `utils.js`, `main.js`).
*   [x] **Build System:** Implemented a build pipeline using `esbuild` to bundle modules.
*   [x] **Testing:** Integrated `Jest` for unit testing. Achieved high code coverage.
*   [x] **Performance:** Optimized UI updates with a caching mechanism.
*   [x] **Visuals:**
    *   Redesigned assets (Coop, Incubator, Flagpole) to be clearer and better looking.
    *   Added SVG assets for Eagle, Ground Critters, Umbrella, and Lunar items.
    *   Implemented CSS animations for running, bouncing, blinking, and rain.
    *   **Fixed:** Weathervane placement and other diorama asset positioning.
*   [x] **Game Loop:** Updated the main loop to handle scene-specific production logic.
*   [x] **Antiquities:** Implemented Shovel, Artifact Graphics, Digging Animation, and Donator Pack logic.

---

## **Future Roadmap**

*   **Phase 5: The "Social" Update (Planned)**
    *   **Leaderboards:** Global rankings for Eggs, Prestige, and Dark Matter.
    *   **Friend Farms:** Visit other players' dioramas (visual only).
    *   **Community Events:** Global goals (e.g., "Collect 1 Quadrillion Eggs collectively").

*   **Phase 6: The "Automator" Update (Planned)**
    *   **Scripting:** Allow players to write simple "scripts" to automate buying upgrades or switching skins.
    *   **Robo-Chicken:** A late-game upgrade that auto-clicks interactive events.

---

## **Technical Notes**
*   **Tests:** Run `npm test` to verify logic.
*   **Build:** Run `npm run build` to regenerate `script.js`.
*   **Deploy:** Commit changes to `main` branch; GitHub Pages auto-deploys.
*   **Save Compatibility:** `SAVE_KEY` bumped to `v3.4`.
